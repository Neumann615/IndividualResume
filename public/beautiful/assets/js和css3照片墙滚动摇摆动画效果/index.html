<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js和css3照片墙滚动摇摆动画效果 www.bootstrapmb.com</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/demo.css">
</head>

<body class="light">
    

    <main>
        <div id="gallery">
            <figure>
                <img src="./images/1.jpg">
                <figcaption>8 PM, Summer</figcaption>
            </figure>
            <figure>
                <div>
                    <div>
                        <h2>Note</h2>
                        <p>Scroll Animation!</p>
                        <p><br><small>Related work : <br><a target="_blank" href="https://codepen.io/wakana-k/pen/oNJxbPw">Hover animation version</a></small></p>
                    </div>
                </div>
            </figure>
            <figure>
                <img src="./images/2.jpg">
                <figcaption>3 PM, Winter</figcaption>
            </figure>
            <figure>
                <img src="./images/3.jpg">
                <figcaption>10 AM, Summer Storm</figcaption>
            </figure>
            <figure>
                <img src="./images/4.jpg">
                <figcaption>5 PM, Autumn</figcaption>
            </figure>
            <figure>
                <img src="./images/5.jpg">
                <figcaption>7 PM, Spring</figcaption>
            </figure>
            <figure>
                <img src="./images/6.jpg">
                <figcaption>6:30 AM, Summer</figcaption>
            </figure>
            <figure>
                <img src="./images/7.jpg">
                <figcaption>6 PM, Autumn</figcaption>
            </figure>
            <figure>
                <img src="./images/8.jpg">
                <figcaption>5 PM, Summer</figcaption>
            </figure>
            <figure>
                <img src="./images/10.jpg">
                <figcaption>11 AM, Summer</figcaption>
            </figure>
            <figure>
                <img src="./images/9.jpg">
                <figcaption>2 PM, Spring Rainbow</figcaption>
            </figure>
            <figure>
                <img src="./images/11.jpg">
                <figcaption>4 PM, Autumn</figcaption>
            </figure>
        </div>
    </main>

    
    <script>
        (function() {
            window.onload = () => {
                const obj = document.querySelector("#gallery");
                const time = 10000;

                function animStart() {
                    if (obj.classList.contains("active") == false) {
                        obj.classList.add("active");
                        setTimeout(() => {
                            animEnd();
                        }, time);
                    }
                }

                function animEnd() {
                    obj.classList.remove("active");
                    obj.offsetWidth;
                }
                document.addEventListener("scroll", function() {
                    // scroll or scrollend
                    animStart();
                });
                window.addEventListener("resize", animStart);
                animStart();
            };
        })();

    </script>
</body>

</html>
